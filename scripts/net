#iptables -t nat -A POSTROUTING -s 172.16.2.0/24 ! -d 172.16.0.0/22 -j SNAT --to-source 162.242.253.238
create() {
  source /srv/salt/admin-openrc.sh
  neutron net-create public --shared --router:external --provider:physical_network public --provider:network_type flat
  neutron subnet-create public 172.16.1.128/25 --disable-dhcp --name public
  source /srv/salt/demo-openrc.sh
  neutron net-create private
  neutron subnet-create private 192.168.0.0/24 --name private --dns-nameserver 8.8.8.8 --gateway 192.168.0.1
  neutron router-create router
  neutron router-interface-add router private --name private
  neutron router-gateway-set router public
}

delete() {
  source /srv/salt/admin-openrc.sh
  neutron router-gateway-clear router
  neutron subnet-delete public
  neutron router-interface-delete router ""
  neutron router-delete router
  neutron net-delete private
  neutron net-delete public
}

"$@"
